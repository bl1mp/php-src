--TEST--
Bug #40261 (Extremely slow data handling due to memory fragmentation)
--INI--
memory_limit=128M
--FILE--
<?php

function fn696766338()
{
    $num = 100000;
    $a = array();
    for ($i = 0; $i < $num; $i++) {
        $a[$i] = array(1);
    }
    for ($i = 0; $i < $num; $i++) {
        $b[$i] = $a[$i][0];
    }
    unset($a);
    for ($i = 0; $i < $num; $i++) {
        $b[$i] = "12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890";
    }
    echo "ok\n";
}
fn696766338();
--EXPECT--
ok
